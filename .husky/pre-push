#!/bin/sh
. "$(dirname "$0")/_/h"

# Pre-push hook: Blocking safe unit tests
echo "🧪 Running pre-push checks..."

# Run safe unit tests
echo "🛡️  Running safe test runner with memory guards..."
node safe-test-runner.js || {
  echo "❌ Tests failed! Please fix failing tests before pushing."
  exit 1
}

echo "✅ Pre-push checks passed!"
